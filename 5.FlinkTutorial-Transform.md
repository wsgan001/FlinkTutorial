### 5. Transform

---

#### 简单转换算子

1. map(一对一的转换)
2. flatMap(元素打散)
3. filter(根据filter函数判断元素是否保留)

#### 其他转换算子

4. keyBy(键控流转换算子)

   DataStream -> KeyedStream

   将一个流拆分成不想交的分区，每个分区包含的元素的key都一样，内部以hash实现

5. 滚动聚合算子

   针对KeyedStream的每一个支流做聚合

   - sum
   - min
   - max
   - minBy
   - maxBy

6. reduce

   重载1 reduce (T, T) => T)

   重载2 reduce(ReduceFunction)

   ```scala
   class MyReduceFunction extends ReduceFunction[SensorReading] {
     override def reduce(v1: SensorReading, v2: SensorReading): SensorReading = {
       SensorReading(v1.id, v2.timestamp, v1.temperature.min(v2.temperature))
     }
   }
   ```

7. split和select(分流算子)

   

8. Connect和CoMap(多流转换算子)

9. union